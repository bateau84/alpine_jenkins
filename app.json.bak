{
    "id": "/yrdevops/alpine-jenkins",
    "container": {
        "type": "DOCKER",
        "docker": {
            "image": "bateau/alpine_jenkins:latest",
            "network": "BRIDGE",
	    "forcePullImage": true,
            "portMappings": [
                {
                    "containerPort": 8080,
                    "hostPort": 0,
                    "protocol": "tcp"
                }
            ]
        },
	"volumes": [
            {   
                "containerPath": "/var/jenkins_home",
                "hostPath": "/data/files/yr_jenkins_alpine",
                "mode": "RW"
            },
	    {
		"containerPath": "/var/run/docker.sock",
		"hostPath": "/var/run/docker.sock",
		"mode": "RO"
	    }
        ]
    },
    "healthChecks": [
	{
	   "path": "/cc.xml",
	   "protocol": "HTTP",
	   "portIndex": 0,
	   "gracePeriodSeconds": 300,
	   "intervalSeconds": 60,
	   "timeoutSeconds": 30,
	   "maxConsecutiveFailures": 3
	}
    ],
    "cpus": 0.1,
    "mem": 2512.0,
    "labels": {
	"subdomain": "alpine-jenkins"
    },
    "env": {
        "BAMBOO_SUBDOMAIN": "alpine-jenkins",
	"PHOME": "/var/jenkins_home",
	"PUID": "1000",
	"PGID": "1000",
	"PAGID": "999",
	"JENKINS_HOME": "/var/jenkins_home",
	"JENKINS_OPTS": "--spdy --httpListenAddress=0.0.0.0 --httpPort=8080 -Djava.awt.headless=true",
	"JAVA_OPTS": "-Xmx2048m -Duser.timezone=Europe/Oslo",
	"JENKINS_VERSION": "1.642.4",
	"DOCKER_VERSION": "1.10.3",
	"DOCKER_HOST": "unix:///var/run/docker.sock",
	"DOCKER_TMPDIR": "/var/jenkins_home/docker_tmp"
    },
    "instances": 1,
    "backoffSeconds": 1040,
    "backoffFactor": 3,
    "maxLaunchDelaySeconds": 3600,
    "upgradeStrategy": {
        "minimumHealthCapacity": 1,
        "maximumOverCapacity": 0
    }
}
